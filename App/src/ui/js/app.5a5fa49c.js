(function(){"use strict";var t={8265:function(t,e){e.Z={install:(t,e)=>{t.config.globalProperties.$dialog={alert:async({message:t="This is alert."})=>await window.alert(t),confirm:async({message:t="This is confirm. ok?"})=>await window.confirm(t),prompt:async({message:t="This is prompt"})=>new Promise(((e,n)=>{const i=window.prompt(t);e(i)}))}}}},4516:function(t,e,n){n.d(e,{H:function(){return r},p:function(){return a}});n(4224),n(1121),n(7133);async function i(t,e){const n=await window.crypto.subtle.importKey("raw",t,"PBKDF2",!1,["deriveKey"]);return await window.crypto.subtle.deriveKey({name:"PBKDF2",salt:e,iterations:2e3,hash:"SHA-256"},n,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}async function r(t,e){const n=(new TextEncoder).encode(e),r=window.crypto.getRandomValues(new Uint8Array(16)),a=await i(n,r),s=window.crypto.getRandomValues(new Uint8Array(12)),o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:s,tagLength:128,additionalData:(new TextEncoder).encode("test")},a,(new TextEncoder).encode(t));return{iv:s,salt:r,cipher:o}}async function a({iv:t,salt:e},n,r){const a=(new TextEncoder).encode(r),s=await i(a,e),o=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:t,tagLength:128,additionalData:(new TextEncoder).encode("test")},s,n);return(new TextDecoder).decode(o)}},8728:function(t,e,n){var i=n(1275);const r="recentFiles",a={async fetch(){return await i.Z.get(r)||[]},async push(t){const e=await this.fetch();e.unshift(t),e.length>10&&e.pop(),i.Z.set(r,e)},update(t){const e=t.map((t=>t.fh));i.Z.set(r,e)}};e.Z=a},6510:function(t,e,n){n.d(e,{Z:function(){return b}});var i=n(6013),r=n(6462),a=n(7327),s=n(4516),o=n(8244),l=n(1275),c=(n(560),n(3760));class u{constructor(t={services:[]}){this.data=t,this.isChanged=!1}exportAsObject(){return this.data}lookupService(t){return console.log("lookap, this.data",this.data),0===this.data.services.length?-1:this.masked.services.map((t=>t.id)).indexOf(t)}addService(t="auto"){const e=[],n="auto"!==t?t:(0,c.SK)(),i=this.lookupService(n);return-1===i&&(this.data.services.push({id:n,accounts:e}),this.isChanged=!0),n}addAccount(t,e,n){console.log("in addAccount",this.data.services);const i=this.lookupService(n);i>-1&&(this.data.services[i].accounts.push({uid:t,password:e}),this.isChanged=!0)}}var d=u;const p=["services","services.accounts"],h={parser:new r.F({ignoreAttributes:!1,isArray:(t,e)=>-1!==p.indexOf(e)}),builder:new i.A};class f{constructor(){(0,a.Z)(this,"masked",null)}static createNewSecrets(){const t=new f;return t.masked=new d,t}async importEncyptedString(t,e,n){const i=(0,o.RG)(t),r=await l.Z.get(`CryptoKeys::${e}`)||null;if(!r)return void console.log("暗号鍵がありません");const a=await(0,s.p)(r,i,n);if(a){const t=h.parser.parse(a);this.masked=new d(t)}else this.masked=new d;console.log("text, fileId, password",t,e,n),console.log("cryptokey",r),console.log("plainString",a)}async exportAsEncryptedString(t,e){const n=h.builder.build(this.masked.exportAsObject()),i=await(0,s.H)(n,e);return await l.Z.set(`CryptoKeys::${t}`,{salt:i.salt,iv:i.iv}),console.log("fileId, password",t,e),console.log("crypto",i),(0,o.sM)(i.cipher)}}var g=f,v=n(6369);const m=function(){const t=new r.F,e=async e=>{if(!e)return;if(!1===await(0,v.P4)(e,!0))return void console.error(`User did not grant permission to '${e.name}'`);const n=await e.getFile(),i=await(0,v.pJ)(n),r=t.parse(i);return"application"in r&&"hashed-potato.com"==r.application.group&&"Account-Store"==r.application.name?r:void 0},n=()=>new g;return{getContent:e,getSecrets:n}}();var b=m},6369:function(t,e,n){function i(){return"showOpenFilePicker"in window?window.showOpenFilePicker().then((t=>t[0])):window.chooseFileSystemEntries()}function r(t){if("showSaveFilePicker"in window){const e={types:[{description:"Text file",accept:{"text/plain":[".txt"]}}],suggestedName:t};return window.showSaveFilePicker(e)}const e={type:"save-file",accepts:[{description:"Text file",extensions:["txt"],mimeTypes:["text/plain"]}]};return window.chooseFileSystemEntries(e)}function a(t){return t.text?t.text():s(t)}function s(t){return new Promise((e=>{const n=new FileReader;n.addEventListener("loadend",(t=>{const n=t.srcElement.result;e(n)})),n.readAsText(t)}))}async function o(t,e){if(t.createWriter){const n=await t.createWriter();return await n.write(0,e),void await n.close()}const n=await t.createWritable();await n.write(e),await n.close()}async function l(t,e){const n={};return e&&(n.writable=!0,n.mode="readwrite"),"granted"===await t.queryPermission(n)||"granted"===await t.requestPermission(n)}n.d(e,{NC:function(){return o},P4:function(){return l},a9:function(){return r},f1:function(){return i},pJ:function(){return a}})},6013:function(t,e,n){var i;n.d(e,{A:function(){return i}}),(()=>{var t={784:(t,e,n)=>{var i=n(687),r={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function a(t){this.options=Object.assign({},r,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=l),this.processTextOrObjNode=s,this.options.format?(this.indentate=o,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function s(t,e,n){var i=this.j2x(t,n+1);return void 0!==t[this.options.textNodeName]&&1===Object.keys(t).length?this.buildTextValNode(t[this.options.textNodeName],e,i.attrStr,n):this.buildObjectNode(i.val,e,i.attrStr,n)}function o(t){return this.options.indentBy.repeat(t)}function l(t){return!(!t.startsWith(this.options.attributeNamePrefix)||t===this.options.textNodeName)&&t.substr(this.attrPrefixLen)}a.prototype.build=function(t){return this.options.preserveOrder?i(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&((e={})[this.options.arrayNodeName]=t,t=e),this.j2x(t,0).val);var e},a.prototype.j2x=function(t,e){var n="",i="";for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))if(void 0===t[r])this.isAttribute(r)&&(i+="");else if(null===t[r])this.isAttribute(r)?i+="":"?"===r[0]?i+=this.indentate(e)+"<"+r+"?"+this.tagEndChar:i+=this.indentate(e)+"<"+r+"/"+this.tagEndChar;else if(t[r]instanceof Date)i+=this.buildTextValNode(t[r],r,"",e);else if("object"!=typeof t[r]){var a=this.isAttribute(r);if(a)n+=this.buildAttrPairStr(a,""+t[r]);else if(r===this.options.textNodeName){var s=this.options.tagValueProcessor(r,""+t[r]);i+=this.replaceEntitiesValue(s)}else i+=this.buildTextValNode(t[r],r,"",e)}else if(Array.isArray(t[r])){for(var o=t[r].length,l="",c=0;c<o;c++){var u=t[r][c];void 0===u||(null===u?"?"===r[0]?i+=this.indentate(e)+"<"+r+"?"+this.tagEndChar:i+=this.indentate(e)+"<"+r+"/"+this.tagEndChar:"object"==typeof u?this.options.oneListGroup?l+=this.j2x(u,e+1).val:l+=this.processTextOrObjNode(u,r,e):l+=this.buildTextValNode(u,r,"",e))}this.options.oneListGroup&&(l=this.buildObjectNode(l,r,"",e)),i+=l}else if(this.options.attributesGroupName&&r===this.options.attributesGroupName)for(var d=Object.keys(t[r]),p=d.length,h=0;h<p;h++)n+=this.buildAttrPairStr(d[h],""+t[r][d[h]]);else i+=this.processTextOrObjNode(t[r],r,e);return{attrStr:n,val:i}},a.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&"true"===e?" "+t:" "+t+'="'+e+'"'},a.prototype.buildObjectNode=function(t,e,n,i){if(""===t)return"?"===e[0]?this.indentate(i)+"<"+e+n+"?"+this.tagEndChar:this.indentate(i)+"<"+e+n+this.closeTag(e)+this.tagEndChar;var r="</"+e+this.tagEndChar,a="";return"?"===e[0]&&(a="?",r=""),!n&&""!==n||-1!==t.indexOf("<")?!1!==this.options.commentPropName&&e===this.options.commentPropName&&0===a.length?this.indentate(i)+"\x3c!--"+t+"--\x3e"+this.newLine:this.indentate(i)+"<"+e+n+a+this.tagEndChar+t+this.indentate(i)+r:this.indentate(i)+"<"+e+n+a+">"+t+r},a.prototype.closeTag=function(t){var e="";return-1!==this.options.unpairedTags.indexOf(t)?this.options.suppressUnpairedNode||(e="/"):e=this.options.suppressEmptyNode?"/":"></"+t,e},a.prototype.buildTextValNode=function(t,e,n,i){if(!1!==this.options.cdataPropName&&e===this.options.cdataPropName)return this.indentate(i)+"<![CDATA["+t+"]]>"+this.newLine;if(!1!==this.options.commentPropName&&e===this.options.commentPropName)return this.indentate(i)+"\x3c!--"+t+"--\x3e"+this.newLine;if("?"===e[0])return this.indentate(i)+"<"+e+n+"?"+this.tagEndChar;var r=this.options.tagValueProcessor(e,t);return""===(r=this.replaceEntitiesValue(r))?this.indentate(i)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(i)+"<"+e+n+">"+r+"</"+e+this.tagEndChar},a.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(var e=0;e<this.options.entities.length;e++){var n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t},t.exports=a},687:t=>{function e(t,s,o,l){for(var c="",u=!1,d=0;d<t.length;d++){var p,h=t[d],f=n(h);if(void 0!==f)if(p=0===o.length?f:o+"."+f,f!==s.textNodeName)if(f!==s.cdataPropName)if(f!==s.commentPropName)if("?"!==f[0]){var g=l;""!==g&&(g+=s.indentBy);var v=l+"<"+f+i(h[":@"],s),m=e(h[f],s,p,g);-1!==s.unpairedTags.indexOf(f)?s.suppressUnpairedNode?c+=v+">":c+=v+"/>":m&&0!==m.length||!s.suppressEmptyNode?m&&m.endsWith(">")?c+=v+">"+m+l+"</"+f+">":(c+=v+">",m&&""!==l&&(m.includes("/>")||m.includes("</"))?c+=l+s.indentBy+m+l:c+=m,c+="</"+f+">"):c+=v+"/>",u=!0}else{var b=i(h[":@"],s),w="?xml"===f?"":l,y=h[f][0][s.textNodeName];c+=w+"<"+f+(y=0!==y.length?" "+y:"")+b+"?>",u=!0}else c+=l+"\x3c!--"+h[f][0][s.textNodeName]+"--\x3e",u=!0;else u&&(c+=l),c+="<![CDATA["+h[f][0][s.textNodeName]+"]]>",u=!1;else{var x=h[f];r(p,s)||(x=a(x=s.tagValueProcessor(f,x),s)),u&&(c+=l),c+=x,u=!1}}return c}function n(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var i=e[n];if(t.hasOwnProperty(i)&&":@"!==i)return i}}function i(t,e){var n="";if(t&&!e.ignoreAttributes)for(var i in t)if(t.hasOwnProperty(i)){var r=e.attributeValueProcessor(i,t[i]);!0===(r=a(r,e))&&e.suppressBooleanAttributes?n+=" "+i.substr(e.attributeNamePrefix.length):n+=" "+i.substr(e.attributeNamePrefix.length)+'="'+r+'"'}return n}function r(t,e){var n=(t=t.substr(0,t.length-e.textNodeName.length-1)).substr(t.lastIndexOf(".")+1);for(var i in e.stopNodes)if(e.stopNodes[i]===t||e.stopNodes[i]==="*."+n)return!0;return!1}function a(t,e){if(t&&t.length>0&&e.processEntities)for(var n=0;n<e.entities.length;n++){var i=e.entities[n];t=t.replace(i.regex,i.val)}return t}t.exports=function(t,n){var i="";return n.format&&n.indentBy.length>0&&(i="\n"),e(t,n,"",i)}}},e={},n=function n(i){var r=e[i];if(void 0!==r)return r.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}(784);i=n})()},6462:function(t,e,n){n.d(e,{F:function(){return i}});var i;n(560);(()=>{var t={807:t=>{const e=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const i={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};t.exports=function(t,r={}){if(r=Object.assign({},i,r),!t||"string"!=typeof t)return t;let a=t.trim();if(void 0!==r.skipLike&&r.skipLike.test(a))return t;if(r.hex&&e.test(a))return Number.parseInt(a,16);{const e=n.exec(a);if(e){const n=e[1],i=e[2];let o=(s=e[3])&&-1!==s.indexOf(".")?("."===(s=s.replace(/0+$/,""))?s="0":"."===s[0]?s="0"+s:"."===s[s.length-1]&&(s=s.substr(0,s.length-1)),s):s;const l=e[4]||e[6];if(!r.leadingZeros&&i.length>0&&n&&"."!==a[2])return t;if(!r.leadingZeros&&i.length>0&&!n&&"."!==a[1])return t;{const e=Number(a),s=""+e;return-1!==s.search(/[eE]/)||l?r.eNotation?e:t:-1!==a.indexOf(".")?"0"===s&&""===o||s===o||n&&s==="-"+o?e:t:i?o===s||n+o===s?e:t:a===s||a===n+s?e:t}}return t}var s}},839:(t,e)=>{var n="[:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+n+"$");e.isExist=function(t){return void 0!==t},e.isEmptyObject=function(t){return 0===Object.keys(t).length},e.merge=function(t,e,n){if(e)for(var i=Object.keys(e),r=i.length,a=0;a<r;a++)t[i[a]]="strict"===n?[e[i[a]]]:e[i[a]]},e.getValue=function(t){return e.isExist(t)?t:""},e.isName=function(t){return!(null==i.exec(t))},e.getAllMatches=function(t,e){for(var n=[],i=e.exec(t);i;){var r=[];r.startIndex=e.lastIndex-i[0].length;for(var a=i.length,s=0;s<a;s++)r.push(i[s]);n.push(r),i=e.exec(t)}return n},e.nameRegexp=n},239:(t,e,n)=>{var i=n(839),r={allowBooleanAttributes:!1,unpairedTags:[]};function a(t){return" "===t||"\t"===t||"\n"===t||"\r"===t}function s(t,e){for(var n=e;e<t.length;e++)if("?"!=t[e]&&" "!=t[e]);else{var i=t.substr(n,e-n);if(e>5&&"xml"===i)return p("InvalidXml","XML declaration allowed only at the start of the document.",f(t,e));if("?"==t[e]&&">"==t[e+1]){e++;break}}return e}function o(t,e){if(t.length>e+5&&"-"===t[e+1]&&"-"===t[e+2]){for(e+=3;e<t.length;e++)if("-"===t[e]&&"-"===t[e+1]&&">"===t[e+2]){e+=2;break}}else if(t.length>e+8&&"D"===t[e+1]&&"O"===t[e+2]&&"C"===t[e+3]&&"T"===t[e+4]&&"Y"===t[e+5]&&"P"===t[e+6]&&"E"===t[e+7]){var n=1;for(e+=8;e<t.length;e++)if("<"===t[e])n++;else if(">"===t[e]&&0==--n)break}else if(t.length>e+9&&"["===t[e+1]&&"C"===t[e+2]&&"D"===t[e+3]&&"A"===t[e+4]&&"T"===t[e+5]&&"A"===t[e+6]&&"["===t[e+7])for(e+=8;e<t.length;e++)if("]"===t[e]&&"]"===t[e+1]&&">"===t[e+2]){e+=2;break}return e}function l(t,e){for(var n="",i="",r=!1;e<t.length;e++){if('"'===t[e]||"'"===t[e])""===i?i=t[e]:i!==t[e]||(i="");else if(">"===t[e]&&""===i){r=!0;break}n+=t[e]}return""===i&&{value:n,index:e,tagClosed:r}}e.validate=function(t,e){e=Object.assign({},r,e);var n,c=[],h=!1,g=!1;"\ufeff"===t[0]&&(t=t.substr(1));for(var v=0;v<t.length;v++)if("<"===t[v]&&"?"===t[v+1]){if((v=s(t,v+=2)).err)return v}else{if("<"!==t[v]){if(a(t[v]))continue;return p("InvalidChar","char '"+t[v]+"' is not expected.",f(t,v))}var m=v;if("!"===t[++v]){v=o(t,v);continue}var b=!1;"/"===t[v]&&(b=!0,v++);for(var w="";v<t.length&&">"!==t[v]&&" "!==t[v]&&"\t"!==t[v]&&"\n"!==t[v]&&"\r"!==t[v];v++)w+=t[v];if("/"===(w=w.trim())[w.length-1]&&(w=w.substring(0,w.length-1),v--),n=w,!i.isName(n))return p("InvalidTag",0===w.trim().length?"Invalid space after '<'.":"Tag '"+w+"' is an invalid name.",f(t,v));var y=l(t,v);if(!1===y)return p("InvalidAttr","Attributes for '"+w+"' have open quote.",f(t,v));var x=y.value;if(v=y.index,"/"===x[x.length-1]){var N=v-x.length,S=u(x=x.substring(0,x.length-1),e);if(!0!==S)return p(S.err.code,S.err.msg,f(t,N+S.err.line));h=!0}else if(b){if(!y.tagClosed)return p("InvalidTag","Closing tag '"+w+"' doesn't have proper closing.",f(t,v));if(x.trim().length>0)return p("InvalidTag","Closing tag '"+w+"' can't have attributes or invalid starting.",f(t,m));var _=c.pop();if(w!==_.tagName){var E=f(t,_.tagStartPos);return p("InvalidTag","Expected closing tag '"+_.tagName+"' (opened in line "+E.line+", col "+E.col+") instead of closing tag '"+w+"'.",f(t,m))}0==c.length&&(g=!0)}else{var D=u(x,e);if(!0!==D)return p(D.err.code,D.err.msg,f(t,v-x.length+D.err.line));if(!0===g)return p("InvalidXml","Multiple possible root nodes found.",f(t,v));-1!==e.unpairedTags.indexOf(w)||c.push({tagName:w,tagStartPos:m}),h=!0}for(v++;v<t.length;v++)if("<"===t[v]){if("!"===t[v+1]){v=o(t,++v);continue}if("?"!==t[v+1])break;if((v=s(t,++v)).err)return v}else if("&"===t[v]){var k=d(t,v);if(-1==k)return p("InvalidChar","char '&' is not expected.",f(t,v));v=k}else if(!0===g&&!a(t[v]))return p("InvalidXml","Extra text at the end",f(t,v));"<"===t[v]&&v--}return h?1==c.length?p("InvalidTag","Unclosed tag '"+c[0].tagName+"'.",f(t,c[0].tagStartPos)):!(c.length>0)||p("InvalidXml","Invalid '"+JSON.stringify(c.map((function(t){return t.tagName})),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):p("InvalidXml","Start tag expected.",1)};var c=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function u(t,e){for(var n=i.getAllMatches(t,c),r={},a=0;a<n.length;a++){if(0===n[a][1].length)return p("InvalidAttr","Attribute '"+n[a][2]+"' has no space in starting.",g(n[a]));if(void 0!==n[a][3]&&void 0===n[a][4])return p("InvalidAttr","Attribute '"+n[a][2]+"' is without value.",g(n[a]));if(void 0===n[a][3]&&!e.allowBooleanAttributes)return p("InvalidAttr","boolean attribute '"+n[a][2]+"' is not allowed.",g(n[a]));var s=n[a][2];if(!h(s))return p("InvalidAttr","Attribute '"+s+"' is an invalid name.",g(n[a]));if(r.hasOwnProperty(s))return p("InvalidAttr","Attribute '"+s+"' is repeated.",g(n[a]));r[s]=1}return!0}function d(t,e){if(";"===t[++e])return-1;if("#"===t[e])return function(t,e){var n=/\d/;for("x"===t[e]&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(";"===t[e])return e;if(!t[e].match(n))break}return-1}(t,++e);for(var n=0;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(";"===t[e])break;return-1}return e}function p(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function h(t){return i.isName(t)}function f(t,e){var n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function g(t){return t.startIndex+t[1].length}},106:(t,e,n)=>{var i=n(839);function r(t,e){for(var n="";e<t.length&&"'"!==t[e]&&'"'!==t[e];e++)n+=t[e];if(-1!==(n=n.trim()).indexOf(" "))throw new Error("External entites are not supported");for(var i=t[e++],r="";e<t.length&&t[e]!==i;e++)r+=t[e];return[n,r,e]}function a(t,e){return"!"===t[e+1]&&"-"===t[e+2]&&"-"===t[e+3]}function s(t,e){return"!"===t[e+1]&&"E"===t[e+2]&&"N"===t[e+3]&&"T"===t[e+4]&&"I"===t[e+5]&&"T"===t[e+6]&&"Y"===t[e+7]}function o(t,e){return"!"===t[e+1]&&"E"===t[e+2]&&"L"===t[e+3]&&"E"===t[e+4]&&"M"===t[e+5]&&"E"===t[e+6]&&"N"===t[e+7]&&"T"===t[e+8]}function l(t,e){return"!"===t[e+1]&&"A"===t[e+2]&&"T"===t[e+3]&&"T"===t[e+4]&&"L"===t[e+5]&&"I"===t[e+6]&&"S"===t[e+7]&&"T"===t[e+8]}function c(t,e){return"!"===t[e+1]&&"N"===t[e+2]&&"O"===t[e+3]&&"T"===t[e+4]&&"A"===t[e+5]&&"T"===t[e+6]&&"I"===t[e+7]&&"O"===t[e+8]&&"N"===t[e+9]}function u(t){if(i.isName(t))return t;throw new Error("Invalid entity name "+t)}t.exports=function(t,e){var n={};if("O"!==t[e+3]||"C"!==t[e+4]||"T"!==t[e+5]||"Y"!==t[e+6]||"P"!==t[e+7]||"E"!==t[e+8])throw new Error("Invalid Tag instead of DOCTYPE");e+=9;for(var i=1,d=!1,p=!1;e<t.length;e++)if("<"!==t[e]||p)if(">"===t[e]){if(p?"-"===t[e-1]&&"-"===t[e-2]&&(p=!1,i--):i--,0===i)break}else"["===t[e]?d=!0:t[e];else{if(d&&s(t,e)){var h=r(t,(e+=7)+1);entityName=h[0],val=h[1],e=h[2],-1===val.indexOf("&")&&(n[u(entityName)]={regx:RegExp("&"+entityName+";","g"),val:val})}else if(d&&o(t,e))e+=8;else if(d&&l(t,e))e+=8;else if(d&&c(t,e))e+=9;else{if(!a)throw new Error("Invalid DOCTYPE");p=!0}i++}if(0!==i)throw new Error("Unclosed DOCTYPE");return{entities:n,i:e}}},348:(t,e)=>{var n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:function(){return!1},commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}};e.buildOptions=function(t){return Object.assign({},n,t)},e.defaultOptions=n},498:(t,e,n)=>{var i=n(839),r=n(876),a=n(106),s=n(807);function o(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var i=e[n];this.lastEntities[i]={regex:new RegExp("&"+i+";","g"),val:t[i]}}}function l(t,e,n,i,r,a,s){if(void 0!==t&&(this.options.trimValues&&!i&&(t=t.trim()),t.length>0)){s||(t=this.replaceEntitiesValue(t));var o=this.options.tagValueProcessor(e,t,n,r,a);return null==o?t:typeof o!=typeof t||o!==t?o:this.options.trimValues||t.trim()===t?y(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function c(t){if(this.options.removeNSPrefix){var e=t.split(":"),n="/"===t.charAt(0)?"/":"";if("xmlns"===e[0])return"";2===e.length&&(t=n+e[1])}return t}"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,i.nameRegexp);var u=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function d(t,e,n){if(!this.options.ignoreAttributes&&"string"==typeof t){for(var r=i.getAllMatches(t,u),a=r.length,s={},o=0;o<a;o++){var l=this.resolveNameSpace(r[o][1]),c=r[o][4],d=this.options.attributeNamePrefix+l;if(l.length)if(this.options.transformAttributeName&&(d=this.options.transformAttributeName(d)),"__proto__"===d&&(d="#__proto__"),void 0!==c){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);var p=this.options.attributeValueProcessor(l,c,e);s[d]=null==p?c:typeof p!=typeof c||p!==c?p:y(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[d]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){var h={};return h[this.options.attributesGroupName]=s,h}return s}}var p=function(t){t=t.replace(/\r\n?/g,"\n");for(var e=new r("!xml"),n=e,i="",s="",o=0;o<t.length;o++)if("<"===t[o])if("/"===t[o+1]){var l=m(t,">",o,"Closing Tag is not closed."),c=t.substring(o+2,l).trim();if(this.options.removeNSPrefix){var u=c.indexOf(":");-1!==u&&(c=c.substr(u+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&(i=this.saveTextToParentTag(i,n,s));var d=s.substring(s.lastIndexOf(".")+1);if(c&&-1!==this.options.unpairedTags.indexOf(c))throw new Error("Unpaired tag can not be used as closing tag: </"+c+">");var p=0;d&&-1!==this.options.unpairedTags.indexOf(d)?(p=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=s.lastIndexOf("."),s=s.substring(0,p),n=this.tagsNodeStack.pop(),i="",o=l}else if("?"===t[o+1]){var h=b(t,o,!1,"?>");if(!h)throw new Error("Pi Tag is not closed.");if(i=this.saveTextToParentTag(i,n,s),this.options.ignoreDeclaration&&"?xml"===h.tagName||this.options.ignorePiTags);else{var f=new r(h.tagName);f.add(this.options.textNodeName,""),h.tagName!==h.tagExp&&h.attrExpPresent&&(f[":@"]=this.buildAttributesMap(h.tagExp,s,h.tagName)),this.addChild(n,f,s)}o=h.closeIndex+1}else if("!--"===t.substr(o+1,3)){var g=m(t,"--\x3e",o+4,"Comment is not closed.");if(this.options.commentPropName){var v,w=t.substring(o+4,g-2);i=this.saveTextToParentTag(i,n,s),n.add(this.options.commentPropName,[(v={},v[this.options.textNodeName]=w,v)])}o=g}else if("!D"===t.substr(o+1,2)){var y=a(t,o);this.docTypeEntities=y.entities,o=y.i}else if("!["===t.substr(o+1,2)){var x=m(t,"]]>",o,"CDATA is not closed.")-2,N=t.substring(o+9,x);if(i=this.saveTextToParentTag(i,n,s),this.options.cdataPropName){var S;n.add(this.options.cdataPropName,[(S={},S[this.options.textNodeName]=N,S)])}else{var _=this.parseTextData(N,n.tagname,s,!0,!1,!0);null==_&&(_=""),n.add(this.options.textNodeName,_)}o=x+2}else{var E=b(t,o,this.options.removeNSPrefix),D=E.tagName,k=E.rawTagName,A=E.tagExp,P=E.attrExpPresent,O=E.closeIndex;this.options.transformTagName&&(D=this.options.transformTagName(D)),n&&i&&"!xml"!==n.tagname&&(i=this.saveTextToParentTag(i,n,s,!1));var C=n;if(C&&-1!==this.options.unpairedTags.indexOf(C.tagname)&&(n=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),D!==e.tagname&&(s+=s?"."+D:D),this.isItStopNode(this.options.stopNodes,s,D)){var I="";if(A.length>0&&A.lastIndexOf("/")===A.length-1)o=E.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(D))o=E.closeIndex;else{var F=this.readStopNodeData(t,k,O+1);if(!F)throw new Error("Unexpected end of "+k);o=F.i,I=F.tagContent}var T=new r(D);D!==A&&P&&(T[":@"]=this.buildAttributesMap(A,s,D)),I&&(I=this.parseTextData(I,D,s,!0,P,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),T.add(this.options.textNodeName,I),this.addChild(n,T,s)}else{if(A.length>0&&A.lastIndexOf("/")===A.length-1){"/"===D[D.length-1]?(D=D.substr(0,D.length-1),s=s.substr(0,s.length-1),A=D):A=A.substr(0,A.length-1),this.options.transformTagName&&(D=this.options.transformTagName(D));var j=new r(D);D!==A&&P&&(j[":@"]=this.buildAttributesMap(A,s,D)),this.addChild(n,j,s),s=s.substr(0,s.lastIndexOf("."))}else{var Z=new r(D);this.tagsNodeStack.push(n),D!==A&&P&&(Z[":@"]=this.buildAttributesMap(A,s,D)),this.addChild(n,Z,s),n=Z}i="",o=O}}else i+=t[o];return e.child};function h(t,e,n){var i=this.options.updateTag(e.tagname,n,e[":@"]);!1===i||("string"==typeof i?(e.tagname=i,t.addChild(e)):t.addChild(e))}var f=function(t){if(this.options.processEntities){for(var e in this.docTypeEntities){var n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(var i in this.lastEntities){var r=this.lastEntities[i];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(var a in this.htmlEntities){var s=this.htmlEntities[a];t=t.replace(s.regex,s.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function g(t,e,n,i){return t&&(void 0===i&&(i=0===Object.keys(e.child).length),void 0!==(t=this.parseTextData(t,e.tagname,n,!1,!!e[":@"]&&0!==Object.keys(e[":@"]).length,i))&&""!==t&&e.add(this.options.textNodeName,t),t=""),t}function v(t,e,n){var i="*."+n;for(var r in t){var a=t[r];if(i===a||e===a)return!0}return!1}function m(t,e,n,i){var r=t.indexOf(e,n);if(-1===r)throw new Error(i);return r+e.length-1}function b(t,e,n,i){void 0===i&&(i=">");var r=function(t,e,n){var i;void 0===n&&(n=">");for(var r="",a=e;a<t.length;a++){var s=t[a];if(i)s===i&&(i="");else if('"'===s||"'"===s)i=s;else if(s===n[0]){if(!n[1])return{data:r,index:a};if(t[a+1]===n[1])return{data:r,index:a}}else"\t"===s&&(s=" ");r+=s}}(t,e+1,i);if(r){var a=r.data,s=r.index,o=a.search(/\s/),l=a,c=!0;-1!==o&&(l=a.substr(0,o).replace(/\s\s*$/,""),a=a.substr(o+1));var u=l;if(n){var d=l.indexOf(":");-1!==d&&(c=(l=l.substr(d+1))!==r.data.substr(d+1))}return{tagName:l,tagExp:a,closeIndex:s,attrExpPresent:c,rawTagName:u}}}function w(t,e,n){for(var i=n,r=1;n<t.length;n++)if("<"===t[n])if("/"===t[n+1]){var a=m(t,">",n,e+" is not closed");if(t.substring(n+2,a).trim()===e&&0==--r)return{tagContent:t.substring(i,n),i:a};n=a}else if("?"===t[n+1])n=m(t,"?>",n+1,"StopNode is not closed.");else if("!--"===t.substr(n+1,3))n=m(t,"--\x3e",n+3,"StopNode is not closed.");else if("!["===t.substr(n+1,2))n=m(t,"]]>",n,"StopNode is not closed.")-2;else{var s=b(t,n,">");s&&((s&&s.tagName)===e&&"/"!==s.tagExp[s.tagExp.length-1]&&r++,n=s.closeIndex)}}function y(t,e,n){if(e&&"string"==typeof t){var r=t.trim();return"true"===r||"false"!==r&&s(t,n)}return i.isExist(t)?t:""}t.exports=function(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=o,this.parseXml=p,this.parseTextData=l,this.resolveNameSpace=c,this.buildAttributesMap=d,this.isItStopNode=v,this.replaceEntitiesValue=f,this.readStopNodeData=w,this.saveTextToParentTag=g,this.addChild=h}},870:(t,e,n)=>{var i=n(348).buildOptions,r=n(498),a=n(400).prettify,s=n(239),o=function(){function t(t){this.externalEntities={},this.options=i(t)}var e=t.prototype;return e.parse=function(t,e){if("string"==typeof t);else{if(!t.toString)throw new Error("XML data is accepted in String or Bytes[] form.");t=t.toString()}if(e){!0===e&&(e={});var n=s.validate(t,e);if(!0!==n)throw Error(n.err.msg+":"+n.err.line+":"+n.err.col)}var i=new r(this.options);i.addExternalEntities(this.externalEntities);var o=i.parseXml(t);return this.options.preserveOrder||void 0===o?o:a(o,this.options)},e.addEntity=function(t,e){if(-1!==e.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==t.indexOf("&")||-1!==t.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===e)throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=e},t}();t.exports=o},400:(t,e)=>{function n(t,e,s){for(var o,l={},c=0;c<t.length;c++){var u,d=t[c],p=i(d);if(u=void 0===s?p:s+"."+p,p===e.textNodeName)void 0===o?o=d[p]:o+=""+d[p];else{if(void 0===p)continue;if(d[p]){var h=n(d[p],e,u),f=a(h,e);d[":@"]?r(h,d[":@"],u,e):1!==Object.keys(h).length||void 0===h[e.textNodeName]||e.alwaysCreateTextNode?0===Object.keys(h).length&&(e.alwaysCreateTextNode?h[e.textNodeName]="":h=""):h=h[e.textNodeName],void 0!==l[p]&&l.hasOwnProperty(p)?(Array.isArray(l[p])||(l[p]=[l[p]]),l[p].push(h)):e.isArray(p,u,f)?l[p]=[h]:l[p]=h}}}return"string"==typeof o?o.length>0&&(l[e.textNodeName]=o):void 0!==o&&(l[e.textNodeName]=o),l}function i(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var i=e[n];if(":@"!==i)return i}}function r(t,e,n,i){if(e)for(var r=Object.keys(e),a=r.length,s=0;s<a;s++){var o=r[s];i.isArray(o,n+"."+o,!0,!0)?t[o]=[e[o]]:t[o]=e[o]}}function a(t,e){var n=e.textNodeName,i=Object.keys(t).length;return 0===i||!(1!==i||!t[n]&&"boolean"!=typeof t[n]&&0!==t[n])}e.prettify=function(t,e){return n(t,e)}},876:t=>{var e=function(){function t(t){this.tagname=t,this.child=[],this[":@"]={}}var e=t.prototype;return e.add=function(t,e){var n;"__proto__"===t&&(t="#__proto__"),this.child.push(((n={})[t]=e,n))},e.addChild=function(t){var e,n;"__proto__"===t.tagname&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push(((e={})[t.tagname]=t.child,e[":@"]=t[":@"],e)):this.child.push(((n={})[t.tagname]=t.child,n))},t}();t.exports=e}},e={},n=function n(i){var r=e[i];if(void 0!==r)return r.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}(870);i=n})()},1275:function(t,e,n){n(560);const i=function(t){class e{constructor(t="keyval-store",e="keyval"){this.storeName=e,this._dbp=new Promise(((n,i)=>{const r=indexedDB.open(t,1);r.onerror=()=>i(r.error),r.onsuccess=()=>n(r.result),r.onupgradeneeded=()=>{r.result.createObjectStore(e)}}))}_withIDBStore(t,e){return this._dbp.then((n=>new Promise(((i,r)=>{const a=n.transaction(this.storeName,t);a.oncomplete=()=>i(),a.onabort=a.onerror=()=>r(a.error),e(a.objectStore(this.storeName))}))))}}let n;function i(){return n||(n=new e),n}function r(t,e=i()){let n;return e._withIDBStore("readonly",(e=>{n=e.get(t)})).then((()=>n.result))}function a(t,e,n=i()){return n._withIDBStore("readwrite",(n=>{n.put(e,t)}))}function s(t,e=i()){return e._withIDBStore("readwrite",(e=>{e.delete(t)}))}function o(t=i()){return t._withIDBStore("readwrite",(t=>{t.clear()}))}function l(t=i()){const e=[];return t._withIDBStore("readonly",(t=>{(t.openKeyCursor||t.openCursor).call(t).onsuccess=function(){this.result&&(e.push(this.result.key),this.result.continue())}})).then((()=>e))}return t.Store=e,t.get=r,t.set=a,t.del=s,t.clear=o,t.keys=l,t}({});e.Z=i},8244:function(t,e,n){n.d(e,{RG:function(){return s},sM:function(){return a}});n(4224),n(1121),n(7133),n(3429);function i(t){let e="";const n=new Uint8Array(t),i=n.byteLength;for(let r=0;r<i;r++)e+=String.fromCharCode(n[r]);return e}function r(t){const e=new Uint8Array(t.length);for(let n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e.buffer}function a(t){const e=i(t);return btoa(e)}function s(t){const e=atob(t);return r(e)}},4297:function(t,e,n){var i=n(7192);const r=(0,i.hu)({enabled:!0,level:"debug",prefixFormat:({level:t,caller:e})=>e?`[${t.toUpperCase()}] [${e?.fileName}:${e?.functionName}:${e?.lineNumber}]`:`[${t.toUpperCase()}]`});e.Z=r},866:function(t,e,n){n.a(t,(async function(t,e){try{var i=n(9242),r=n(8265),a=n(302),s=n(9437),o=n(4239),l=n(4297),c=t([o]);o=(c.then?(await c)():c)[0];const u=(0,i.ri)(a.Z);u.use(l.Z),u.use(s.Z),u.use(o.Z),u.use(r.Z,{test:"ok"}),u.mount("#app"),e()}catch(u){e(u)}}))},9437:function(t,e,n){n.d(e,{Z:function(){return pe}});var i=n(2483),r=n(3396),a=n.p+"img/weare1.5ec2fc9d.png",s=n.p+"img/weare2.fbfa3c4d.png",o=n.p+"img/weare3.46bf2500.png",l=n.p+"img/weare4.4e6f43ad.png";const c=t=>((0,r.dD)("data-v-bcb9c688"),t=t(),(0,r.Cn)(),t),u={className:"keyvisual"},d=c((()=>(0,r._)("div",{id:"kv-message"},"Hello World",-1))),p={id:"kv-start"},h=(0,r.uE)('<section id="about" data-v-bcb9c688><h1 data-v-bcb9c688>ポテトシステム - hashed-potato とは</h1><hr data-v-bcb9c688></section><section class="outline-list" data-v-bcb9c688><h2 data-v-bcb9c688>インターネット上の個人情報を管理し、プライバシーを守ります</h2><div data-v-bcb9c688><span class="emphasis" data-v-bcb9c688>インターネットにある個人情報を管理し、保護することは重要です。</span> hashed-potatoは、この管理を手助けするシステムです。 </div><div data-v-bcb9c688> 例えば、あなたがインターネットで買い物をすることを考えてください。 アカウントを作成するために、電話番号やメールアドレスなど必要な個人情報を登録し、 パスワードで<span class="key" data-v-bcb9c688>鍵</span>をかけていることでしょう。 そこはあなた専用の<span class="vault" data-v-bcb9c688>ロッカー</span>であり、個人情報は、 そこにしまわれた大切な<span class="asset" data-v-bcb9c688>資産</span>であると、 考えることができます。 </div><div data-v-bcb9c688><figure data-v-bcb9c688><img src="'+a+'" alt="個人情報が無秩序に拡散" data-v-bcb9c688><figcaption data-v-bcb9c688> 素晴らしいウェブサイトであふれている今日では、あなたの<span class="key" data-v-bcb9c688>鍵</span>の数は膨れ上がり、 どの<span class="vault" data-v-bcb9c688>ロッカー</span>にどんな<span class="asset" data-v-bcb9c688>資産</span>がしまわれているか、 わからなくなってくるはずです。 （複数のロッカーに同じ鍵をかけてはいけません！） </figcaption></figure></div><div data-v-bcb9c688><figure data-v-bcb9c688><img src="'+s+'" alt="個人情報の所在を明確化" data-v-bcb9c688><figcaption data-v-bcb9c688> hashed-potatoとウェブサイトがパートナーであるならば、 <span class="emphasis" data-v-bcb9c688>どこにどんな<span class="asset" data-v-bcb9c688>資産</span>がしまわれているのかを 管理することができるようになります。</span> また、大量の<span class="key" data-v-bcb9c688>鍵</span>に悩ませれることも少なくなることでしょう。 </figcaption></figure></div></section><section class="outline-list" data-v-bcb9c688><h2 data-v-bcb9c688>個人情報を秘匿化し、プライバシーを守ります</h2><div data-v-bcb9c688><span class="emphasis" data-v-bcb9c688> 個人情報はその人の資産です。 個人情報の実体をコピーし、外部に送信することには慎重にならなければなりません。 </span></div><div data-v-bcb9c688><figure data-v-bcb9c688><img src="'+o+'" alt="個人情報のコピーを送信" data-v-bcb9c688><figcaption data-v-bcb9c688><span class="vault" data-v-bcb9c688>ロッカー</span>のセキュリティが何らかの原因で壊れた場合、 そこにあるあなたの<span class="asset" data-v-bcb9c688>資産</span>も危険にさらされてしまいます。 </figcaption></figure></div><div data-v-bcb9c688><figure data-v-bcb9c688><img src="'+l+'" alt="個人情報の代替情報を送信" data-v-bcb9c688><figcaption data-v-bcb9c688> hashed-potatoでは、<span class="asset" data-v-bcb9c688>資産</span>を、その場所のみを記した&quot;手形&quot;に置き換え、 <span class="emphasis" data-v-bcb9c688> 可能な限り<span class="asset" data-v-bcb9c688>資産</span>を手元に保持します。 </span></figcaption></figure></div></section>',3);function f(t,e,n,i,a,s){const o=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("main",null,[(0,r._)("div",u,[d,(0,r._)("div",p,[(0,r.Wm)(o,{to:"/start",id:"getstarted"},{default:(0,r.w5)((()=>[(0,r.Uk)("Get Started")])),_:1})])]),h])}var g={name:"IndexView"},v=n(89);const m=(0,v.Z)(g,[["render",f],["__scopeId","data-v-bcb9c688"]]);var b=m,w=n(7139);function y(t,e,n,i,a,s){const o=(0,r.up)("AppMainHeader"),l=(0,r.up)("RecentFilesWithSelectBox"),c=(0,r.up)("SelectDeviceFileButton"),u=(0,r.up)("AddDataPrompt");return(0,r.wg)(),(0,r.iD)("main",null,[(0,r.Wm)(o,{title:"Link"}),(0,r._)("p",null,(0,w.zw)(a.receptionId),1),(0,r._)("section",null,[(0,r.Uk)(" ログインを試行します. "),(0,r.Wm)(l,{label:"最近のファイル"}),(0,r.Wm)(c,{label:"ファイルを選択"}),null!==t.fileHandle?((0,r.wg)(),(0,r.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>s.showContentData&&s.showContentData(...t))},"ログイン試行")):(0,r.kq)("",!0)]),(0,r._)("section",null,[a.enableInputForm?((0,r.wg)(),(0,r.j4)(u,{key:0,onPullInputData:s.addDataIntoFile},null,8,["onPullInputData"])):(0,r.kq)("",!0)]),(0,r._)("pre",null,"      "+(0,w.zw)(a.requestedData)+"\n    ",1)])}n(560);const x=t=>((0,r.dD)("data-v-812580bc"),t=t(),(0,r.Cn)(),t),N=x((()=>(0,r._)("hr",null,null,-1)));function S(t,e,n,i,a,s){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("h2",null,(0,w.zw)(n.title),1),N],64)}var _={name:"AppMainHeader",props:["title"]};const E=(0,v.Z)(_,[["render",S],["__scopeId","data-v-812580bc"]]);var D=E;function k(t,e,n,i,a,s){return(0,r.wg)(),(0,r.iD)("button",{onClick:e[0]||(e[0]=(...t)=>s.selectDeviceFile&&s.selectDeviceFile(...t))},(0,w.zw)(n.label),1)}var A=n(6369),P={name:"SelectDeviceFileButton",props:["label"],methods:{selectDeviceFile(){(0,A.f1)().then((t=>{this.$store.commit("files/add",t),this.$store.commit("user/file",t)})).catch((()=>{}))}}};const O=(0,v.Z)(P,[["render",k]]);var C=O,I=n(9242);const F=t=>((0,r.dD)("data-v-30fc6bad"),t=t(),(0,r.Cn)(),t),T={for:"recent-files-select-box"},j=F((()=>(0,r._)("option",{disabled:"",selected:"",class:"initial-option",key:"init"},"選択してください",-1))),Z=["value"];function q(t,e,n,i,a,s){return(0,r.wg)(),(0,r.iD)("label",T,[(0,r.Uk)((0,w.zw)(n.label)+" ",1),(0,r.wy)((0,r._)("select",{name:"recent-files-select-box",onChange:e[0]||(e[0]=(...t)=>s.selectedRecentFiles&&s.selectedRecentFiles(...t)),"onUpdate:modelValue":e[1]||(e[1]=e=>t.userSelected=e)},[j,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.histories,((t,e)=>((0,r.wg)(),(0,r.iD)("option",{value:e,key:e},(0,w.zw)(t.name),9,Z)))),128))],544),[[I.bM,t.userSelected]])])}var $={name:"RecentFilesWithSelectBox",props:["label"],data(){return{histories:[]}},methods:{selectedRecentFiles(){const t=Number(this.userSelected);this.$store.commit("user/file",this.histories[t])}},async mounted(){this.histories=this.$store.getters["files/fileList"],this.$store.watch(((t,e)=>e["files/fileList"]),((t,e)=>{console.log("files/fileList changed\n",t,e),this.histories=t}))}};const V=(0,v.Z)($,[["render",q],["__scopeId","data-v-30fc6bad"]]);var U=V;const H={key:0},R={for:"prompt-input-uid"},B={for:"prompt-input-password"};function M(t,e,n,i,a,s){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("button",{onClick:e[0]||(e[0]=(...t)=>s.showPrompt&&s.showPrompt(...t))},(0,w.zw)(n.label),1),a.visible?((0,r.wg)(),(0,r.iD)("div",H,[(0,r._)("label",R,[(0,r.Uk)(" User ID for Login "),(0,r.wy)((0,r._)("input",{type:"text",id:"prompt-input-uid",placeholder:"User ID for Login","onUpdate:modelValue":e[1]||(e[1]=t=>a.inputId=t)},null,512),[[I.nr,a.inputId]])]),(0,r._)("label",B,[(0,r.Uk)(" User ID for Login "),(0,r.wy)((0,r._)("input",{type:"text",id:"prompt-input-password",placeholder:"Password for Login","onUpdate:modelValue":e[2]||(e[2]=t=>a.inputPass=t)},null,512),[[I.nr,a.inputPass]])]),(0,r._)("button",{onClick:e[3]||(e[3]=(...t)=>s.submit&&s.submit(...t))},"OK"),(0,r._)("button",{onClick:e[4]||(e[4]=(...t)=>s.cancel&&s.cancel(...t))},"Cancel")])):(0,r.kq)("",!0)])}var L={props:{label:{type:String,default:"データを追加する"}},emits:["pullInputData"],data(){return{visible:!1,inputId:"",inputPass:""}},methods:{showPrompt(){this.visible||(this.inputId="",this.inputPass="",this.visible=!0)},close(){this.visible=!1},submit(){const t=this.inputId,e=this.inputPass;this.$emit("pullInputData",t,e),this.close()},cancel(){this.$emit("pullInputData",null),this.close()}}};const W=(0,v.Z)(L,[["render",M]]);var z=W,K=n(4516),G=n(6462),Y=n(6013),X=n(8244),J=n(1275);const Q=["services","services.accounts"],tt={parser:new G.F({ignoreAttributes:!1,isArray:(t,e)=>-1!==Q.indexOf(e)}),builder:new Y.A},et=(()=>{async function t(t,e,n){const i=(0,X.RG)(t),r=await J.Z.get(`CryptoKeys::${e}`)||null;if(!r)return void console.log("暗号鍵がありません");const a=await(0,K.p)(r,i,n);return a?tt.parser.parse(a):{services:[]}}async function e(t,e,n){const i=tt.builder.build(t),r=await(0,K.H)(i,n);return await J.Z.set(`CryptoKeys::${e}`,{salt:r.salt,iv:r.iv}),(0,X.sM)(r.cipher)}return{importEncyptedString:t,exportAsEncryptedString:e}})();var nt=et;const it=new Y.A;var rt={name:"LinkView",components:{AppMainHeader:D,SelectDeviceFileButton:C,RecentFilesWithSelectBox:U,AddDataPrompt:z},data(){return{content:null,plainObject:null,receptionId:"",requestedData:null,enableInputForm:!1}},methods:{async fetchRequestedData(){try{const t=await fetch(`http://localhost:8000/agent/link/fetch/${this.receptionId}`),e=await t.json();this.requestedData=e}catch(t){console.error(t)}},async showContentData(){if(this.content=await this.$store.getters["user/fileContent"],!this.content)return void console.log("ファイルが選択されていません");const t=this.content.meta.devicefileid,e=await this.$dialog.prompt({message:"Enter PASSPHRASE for Data Decrypt"});e&&(this.plainObject=await nt.importEncyptedString(this.content.data,t,e));const n=this.plainObject.services.find((t=>t.id===this.requestedData.requester_id));n&&this.$dialog.confirm({message:"ログイン情報があります. ログインしますか?"})?window.location.href=`${this.requestedData.redirect_uri}\n          +?type=login&id=${n.accounts[0].uid}&pwd=${n.accounts[0].password}`.replace(/\s+/g,""):this.$dialog.confirm({message:"ログイン情報がありません. サインインしますか?"})&&(console.log("ok"),this.enableInputForm=!0)},async addDataIntoFile(t,e){const n={id:this.requestedData.requester_id,accounts:[{uid:t,password:e}]};this.plainObject.services.push(n);const i=await this.$dialog.prompt({message:"Enter new PASSPHRASE for Data Encrypt"}),r=await nt.exportAsEncryptedString(this.plainObject,this.content.meta.devicefileid,i);this.content.data=r,(0,A.P4)(this.$store.getters["user/file"],!0)&&(await(0,A.NC)(this.$store.getters["user/file"],it.build(this.content)),console.log("write contents",this.plainObject,r,this.content),this.plainObject=null,window.location.href=`${this.requestedData.redirect_uri}\n          +?type=new&id=${n.accounts[0].uid}&pwd=${n.accounts[0].password}`.replace(/\s+/g,""))}},mounted(){this.receptionId=this.$route.params.id,this.receptionId&&this.fetchRequestedData()}};const at=(0,v.Z)(rt,[["render",y]]);var st=at;const ot=t=>((0,r.dD)("data-v-c0cc2a10"),t=t(),(0,r.Cn)(),t),lt=ot((()=>(0,r._)("br",null,null,-1))),ct=ot((()=>(0,r._)("br",null,null,-1))),ut=ot((()=>(0,r._)("li",null,[(0,r.Uk)(' "Enter new PASSPHRASE for Data Encrypt" とプロンプトが表示されます. これは、ファイルの中の個人的なデータを暗号化するために使用されます. 任意の文字列を入力してください.'),(0,r._)("br"),(0,r.Uk)(" ここで入力した値は、次にファイルを複合化するときだけ、必要になります. ")],-1)));function dt(t,e,n,i,a,s){const o=(0,r.up)("AppMainHeader"),l=(0,r.up)("CreateDeviceFileButton"),c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("main",null,[(0,r.Wm)(o,{title:"Start"}),(0,r._)("section",null,[(0,r._)("ol",null,[(0,r._)("li",null,[(0,r.Uk)(" まず初めに、ローカルファイルを作成します."),lt,(0,r.Uk)(' "ファイルを作成する" を押すと、任意の名前でファイルがあなたのデバイスに作成されます. ファイル名の初期値は "My-Account-Store.txt" です.'),ct,(0,r.Wm)(l,{label:"ファイルを作成する"})]),ut,(0,r._)("li",null,[(0,r.Uk)(" Start のステップはすべて完了しました. ファイルデータを確認および編集するためには、"),(0,r.Wm)(c,{to:"/view"},{default:(0,r.w5)((()=>[(0,r.Uk)("View")])),_:1}),(0,r.Uk)("にアクセスしてください. ")])])])])}function pt(t,e,n,i,a,s){return(0,r.wg)(),(0,r.iD)("button",{onClick:e[0]||(e[0]=(...t)=>s.createDeviceFile&&s.createDeviceFile(...t))},(0,w.zw)(n.label),1)}var ht=n(3029),ft=JSON.parse('{"?xml version=\\"1.0\\" encoding=\\"UTF-8\\"":"","application":{"name":"Account-Store","group":"hashed-potato.com"},"meta":{"version":1,"devicefileid":""},"data":""}');const gt=new Y.A;var vt={name:"CreateDeviceFileButton",props:["label"],data(){return{}},methods:{async createDeviceFile(){const t=ft,e={services:[]};try{const n=await(0,A.a9)("My-Account-Store.txt");console.log(n),this.$store.commit("files/add",n),this.$store.commit("user/file",n),t.meta.devicefileid=(0,ht.Z)();const i=await this.$dialog.prompt({message:"Enter new PASSPHRASE for Data Encrypt"}),r=await nt.exportAsEncryptedString(e,t.meta.devicefileid,i);t.data=r,await(0,A.NC)(n,gt.build(t))}catch(n){console.log(n)}}},mounted(){console.log("fileList",this.$store.getters["files/fileList"])}};const mt=(0,v.Z)(vt,[["render",pt],["__scopeId","data-v-0d894a09"]]);var bt=mt,wt={name:"StartView",components:{CreateDeviceFileButton:bt,AppMainHeader:D},data(){return{}},methods:{},mounted(){}};const yt=(0,v.Z)(wt,[["render",dt],["__scopeId","data-v-c0cc2a10"]]);var xt=yt;const Nt=t=>((0,r.dD)("data-v-48c02454"),t=t(),(0,r.Cn)(),t),St=Nt((()=>(0,r._)("p",null," ファイルの参照および編集ができます. ",-1))),_t={class:"selected-file-name-view"},Et={key:0},Dt={key:1},kt={class:"box"},At=Nt((()=>(0,r._)("h3",null,"ファイルを選択する",-1)));function Pt(t,e,n,i,a,s){const o=(0,r.up)("AppMainHeader"),l=(0,r.up)("RecentFilesWithSelectBox"),c=(0,r.up)("SelectDeviceFileButton"),u=(0,r.up)("AddDataPrompt"),d=(0,r.up)("SetupTable");return(0,r.wg)(),(0,r.iD)("main",null,[(0,r.Wm)(o,{title:"Content Viewer"}),(0,r._)("div",null,[St,(0,r._)("div",_t,[s.isFileSelected()?((0,r.wg)(),(0,r.iD)("span",Et," 選択中のファイル: "+(0,w.zw)(s.fileName()),1)):((0,r.wg)(),(0,r.iD)("span",Dt," ファイルが選択されていません "))]),(0,r._)("div",kt,[At,(0,r._)("div",null,[(0,r.Wm)(l,{label:"最近のファイル"}),(0,r.Wm)(c,{label:"ファイルを選択"})])]),s.isFileSelected()?((0,r.wg)(),(0,r.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>s.showContentData&&s.showContentData(...t))},"データを表示する")):(0,r.kq)("",!0),s.isFileSelected()?((0,r.wg)(),(0,r.j4)(u,{key:1,onPullInputData:s.addDataIntoFile},null,8,["onPullInputData"])):(0,r.kq)("",!0),s.isFileSelected()?((0,r.wg)(),(0,r.iD)("button",{key:2,onClick:e[1]||(e[1]=(...t)=>s.lockFile&&s.lockFile(...t))},"ファイルに鍵をかける")):(0,r.kq)("",!0),(0,r.Wm)(d,{idata:s.convFromSecDataToArrangeSecData,icolumns:a.arrangeSecDataColumn},null,8,["idata","icolumns"])])])}var Ot=n(3760);const Ct=["onClick"];function It(t,e,n,i,a,s){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("table",null,[(0,r._)("tr",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.icolumns,((t,e)=>((0,r.wg)(),(0,r.iD)("th",{key:e,onClick:e=>s.sortBy(t.field)},(0,w.zw)(t.title),9,Ct)))),128))]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.tdata,((t,e)=>((0,r.wg)(),(0,r.iD)("tr",{key:1e3*(e+1)},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.icolumns,((e,n)=>((0,r.wg)(),(0,r.iD)("td",{key:["k",n].join("-")},(0,w.zw)(t[e.field]),1)))),128))])))),128))])])}var Ft={props:["idata","icolumns","show"],data(){return{tdata:this.idata,currentSortField:""}},methods:{sortBy(t){t===this.currentSortField?(this.tdata.sort(((e,n)=>{const i=e[t],r=n[t];return"number"===typeof i?-1*(i-r):"string"===typeof i?-1*e[t].localeCompare(n[t],"ja"):0})),this.currentSortField=""):(this.tdata.sort(((e,n)=>{const i=e[t],r=n[t];return"number"===typeof i?i-r:"string"===typeof i?e[t].localeCompare(n[t],"ja"):0})),this.currentSortField=t)}},watch:{idata(t){this.tdata=t}}};const Tt=(0,v.Z)(Ft,[["render",It]]);var jt=Tt,Zt=n(6510);const qt=new Y.A;var $t={name:"ContentView",components:{SelectDeviceFileButton:C,AddDataPrompt:z,SetupTable:jt,RecentFilesWithSelectBox:U,AppMainHeader:D},data(){return{fileHandle:null,fileId:"",contents:null,plainObject:null,arrangeSecDataColumn:[{title:"ID",field:"id"},{title:"Service ID",field:"serviceId"},{title:"User ID",field:"uid"},{title:"Password",field:"password"}]}},computed:{getUserFileHandle(){return this.$store.getters["user/file"]},convFromSecDataToArrangeSecData(){if(null===this.plainObject||0===this.plainObject.length)return[];const t=this.plainObject.services.map(((t,e)=>{const n=1e3*(e+1);return t.accounts.map(((e,i)=>Object.assign(e,{id:n+i,serviceId:t.id})))}));return t.flat()}},watch:{async getUserFileHandle(t){this.fileHandle=t,this.contents=await Zt.Z.getContent(t),this.fileId=this.contents.meta.devicefileid,this.plainObject=null,console.log("user file changed"),console.log("contents",this.contents),console.log("fileId",this.fileId)}},methods:{async showContentData(){const t=await this.$dialog.prompt({message:"Enter PASSPHRASE for Data Decrypt"});t&&(this.plainObject=await nt.importEncyptedString(this.contents.data,this.fileId,t),console.log("plainObject",this.plainObject))},async addDataIntoFile(t,e){t&&e&&this.fileHandle&&(this.plainObject.services.push({id:(0,Ot.SK)(),accounts:[{uid:t,password:e}]}),console.log("data added",this.plainObject.services))},async lockFile(){if(!this.fileHandle)return;console.log("write contents",this.plainObject);const t=await this.$dialog.prompt({message:"Enter new PASSPHRASE for Data Encrypt"}),e=await nt.exportAsEncryptedString(this.plainObject,this.fileId,t);this.contents.data=e,await(0,A.NC)(this.fileHandle,qt.build(this.contents)),console.log("write contents",this.plainObject,e,this.contents),this.plainObject=null},isFileSelected(){return null!==this.fileHandle},fileName(){return null===this.fileHandle?"":this.fileHandle.name}},async mounted(){this.fileHandle=this.$store.getters["user/file"],this.$store.watch(((t,e)=>e["user/file"]),(t=>{this.fileHandle=t}))}};const Vt=(0,v.Z)($t,[["render",Pt],["__scopeId","data-v-48c02454"]]);var Ut=Vt;const Ht=(0,r._)("h1",null,"Service Generator",-1),Rt={for:"req_requester_id"},Bt={for:"req_scope"},Mt=(0,r._)("option",{value:"fullname"},"fullname",-1),Lt=(0,r._)("option",{value:"nickname"},"nickname",-1),Wt=(0,r._)("option",{value:"email"},"email",-1),zt=[Mt,Lt,Wt];function Kt(t,e,n,i,a,s){return(0,r.wg)(),(0,r.iD)("main",null,[Ht,(0,r._)("button",{type:"button",onClick:e[0]||(e[0]=(...t)=>s.test&&s.test(...t))},"実行"),(0,r._)("div",null,[(0,r._)("label",Rt,[(0,r.Uk)(" Requester ID (Client ID) "),(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.reqId=t),name:"req_requester_id",type:"text",value:"{{reqId}}"},null,512),[[I.nr,a.reqId]])]),(0,r._)("button",{type:"button",onClick:e[2]||(e[2]=(...t)=>s.generateRequesterId&&s.generateRequesterId(...t))},"生成")]),(0,r._)("div",null,[(0,r._)("label",Bt,[(0,r.Uk)(" Scope: "+(0,w.zw)(a.reqScope)+" ",1),(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>a.reqScope=t),name:"req_scope",multiple:""},zt,512),[[I.bM,a.reqScope]])])]),(0,r._)("div",null,[(0,r._)("button",{type:"button",onClick:e[4]||(e[4]=(...t)=>s.submitService&&s.submitService(...t))},"サーバーに送信")])])}function Gt(){const t=["red","blue","energetic","small","new","happy","fast","bright","warm","cool","calm","brave","clever","elegant","funny","gentle","jolly","kind","lively","mellow","sunny","vivid","mysterious","vibrant","dynamic","sparkling","glistening","serene","joyful","dazzling","radiant","zesty","exquisite","whimsical","playful","soothing","vital","gleaming","effervescent","blissful","captivating","serendipitous","stellar","splendid","effortless"],e=["cat","mountain","book","sea","star","dog","tree","river","moon","sun","flower","bird","cloud","wave","island","bridge","castle","planet","rainbow","unicorn","ocean","breeze","crystal","dream","harmony","whisper","echo","garden","horizon","zenith","cascade","jubilee","lagoon","melody","nectar","oracle","quasar","radiance","sapphire","tempest","veranda","wonder","yonder","zenith","enigma"];function n(t){return t[Math.floor(Math.random()*t.length)]}function i(){const i=n(t),r=n(e),a=`${i}-${r}`;return a}return i()}var Yt=Gt,Xt={name:"ServiceGenView",props:["mode"],data(){return{reqId:"",reqScope:[]}},methods:{generateRequesterId(){this.reqId=Yt()},async submitService(){const t={type:"login_bridge",redirect_uri:"/sg/redirect",requester_id:this.reqId,scope:this.reqScope,self_request_auth:"temp_token",self_request_auth_value:"123456"};if(""===t.requester_id)return void this.$dialog.alert({message:"Requester ID (Client ID) が設定されていません"});const e=`次の内容を送信します. よろしいですか？\n${JSON.stringify(t)}`;if(!this.$dialog.confirm({message:e}))return;const n=await(async()=>{try{const e=await fetch("http://localhost:8000/agent/link/stock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await e.json();return n.reception_id}catch(e){return console.error(e),null}})();n&&this.$router.push(`/link/${n}`)},async test(){await this.$dialog.alert({message:"ok?"})}}};const Jt=(0,v.Z)(Xt,[["render",Kt]]);var Qt=Jt;const te=t=>((0,r.dD)("data-v-367ddf6c"),t=t(),(0,r.Cn)(),t),ee=te((()=>(0,r._)("p",null," 各種設定. ",-1)));function ne(t,e,n,i,a,s){const o=(0,r.up)("AppMainHeader"),l=(0,r.up)("ResetKeyValueButton");return(0,r.wg)(),(0,r.iD)("main",null,[(0,r.Wm)(o,{title:"Config"}),(0,r._)("div",null,[ee,(0,r.Wm)(l)])])}function ie(t,e,n,i,a,s){return(0,r.wg)(),(0,r.iD)("button",{onClick:e[0]||(e[0]=(...t)=>s.reset&&s.reset(...t))},"Reset KeyValue")}var re={name:"ResetKeyValueButton",methods:{reset(){J.Z.clear()}}};const ae=(0,v.Z)(re,[["render",ie]]);var se=ae,oe={name:"ContentView",components:{ResetKeyValueButton:se,AppMainHeader:D},data(){return{}}};const le=(0,v.Z)(oe,[["render",ne],["__scopeId","data-v-367ddf6c"]]);var ce=le;const ue=[{path:"/",name:"IndexPage",component:b},{path:"/start",name:"StartPage",component:xt},{path:"/config",name:"ConfigPage",component:ce},{path:"/link/:id",name:"LinkPage",component:st,children:[{path:"",component:st}]},{path:"/view",name:"ContentPage",component:Ut},{path:"/sg/:id",name:"ServiceGenPage",component:Qt,children:[{path:"generate",component:Qt,props:{mode:"generate"}},{path:"redirect",component:Qt,props:{mode:"redirect"}},{path:"",component:Qt,props:{mode:"generate"}}]}],de=(0,i.p7)({history:(0,i.PO)("/"),routes:ue});var pe=de},4239:function(t,e,n){n.a(t,(async function(t,i){try{var r=n(65),a=n(9416),s=n(1185),o=t([s]);s=(o.then?(await o)():o)[0],e.Z=(0,r.MT)({modules:{user:a.Z,files:s.Z},plugins:[]}),i()}catch(l){i(l)}}))},1185:function(t,e,n){n.a(t,(async function(t,i){try{n(560);var r=n(8728);e.Z={namespaced:!0,state:{fileList:await r.Z.fetch()},mutations:{async add(t,e){if(!e)return;const n=e,i=await r.Z.fetch();if(0===i.length)return await r.Z.push(n),void(t.fileList=r.Z);if(!("isSameEntry"in n)||!n.isSameEntry)return void console.warn("Saving of recents is unavailable.");const a=await Promise.all(i.map((t=>n.isSameEntry(t))));a.some((t=>t))||(await r.Z.push(n),t.fileList=r.Z)}},getters:{fileList:t=>t.fileList,lastUsed:t=>t.fileList[0]},actions:{}},i()}catch(a){i(a)}}),1)},9416:function(t,e,n){var i=n(6510);const r=()=>({file:null});e.Z={namespaced:!0,state:r(),mutations:{file(t,e){e&&(t.file=e),console.log("mutation: file to",e)}},getters:{file:t=>t.file,fileContent:t=>t.file?i.Z.getContent(t.file):null},actions:{}}},302:function(t,e,n){n.d(e,{Z:function(){return D}});var i=n(3396);const r={id:"app"},a={className:"main-wrp"};function s(t,e,n,s,o,l){const c=(0,i.up)("AppHeader"),u=(0,i.up)("router-view"),d=(0,i.up)("AppFooter");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(c),(0,i._)("div",a,[(0,i.Wm)(u)]),(0,i.Wm)(d)])}const o={className:"header-wrp"},l={className:"logo"},c={className:"menu"};function u(t,e,n,r,a,s){const u=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("header",null,[(0,i._)("div",o,[(0,i._)("div",l,[(0,i._)("ul",null,[(0,i._)("li",null,[(0,i.Wm)(u,{to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)(" HASHED POTATO ")])),_:1})])])]),(0,i._)("nav",c,[(0,i._)("ul",null,[(0,i._)("li",null,[(0,i.Wm)(u,{to:"/start"},{default:(0,i.w5)((()=>[(0,i.Uk)("Start")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(u,{to:"/view"},{default:(0,i.w5)((()=>[(0,i.Uk)("View")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(u,{to:"/config"},{default:(0,i.w5)((()=>[(0,i.Uk)("Config")])),_:1})])])])])])}var d={name:"AppHeader"},p=n(89);const h=(0,p.Z)(d,[["render",u],["__scopeId","data-v-f0e66a60"]]);var f=h;const g=t=>((0,i.dD)("data-v-ddd50974"),t=t(),(0,i.Cn)(),t),v=g((()=>(0,i._)("div",{className:"copyright"},"©hashed-potato.mydns.jp",-1))),m=g((()=>(0,i._)("div",{className:"note"},"システムは開発中です",-1))),b={key:0,id:"fsa-not-supported"},w=g((()=>(0,i._)("b",null,"not",-1)));function y(t,e,n,r,a,s){const o=(0,i.up)("Link");return(0,i.wg)(),(0,i.iD)("footer",null,[v,m,!0!==s.isSupported()?((0,i.wg)(),(0,i.iD)("div",b,[(0,i.Uk)(" The "),(0,i.Wm)(o,{href:"https://wicg.github.io/file-system-access/",target:"_blank"},{default:(0,i.w5)((()=>[(0,i.Uk)("File System Access API")])),_:1}),(0,i.Uk)(" is "),w,(0,i.Uk)(" supported in this browser yet, and Text Editor is running in legacy mode. In legacy mode, the file modified indicators are not shown. ")])):(0,i.kq)("",!0)])}var x={name:"AppFooter",data:()=>({hasFSAccess:null}),methods:{isSupported(){return this.hasFSAccess="chooseFileSystemEntries"in window||"showOpenFilePicker"in window,this.hasFSAccess}}};const N=(0,p.Z)(x,[["render",y],["__scopeId","data-v-ddd50974"]]);var S=N,_={name:"app",components:{AppHeader:f,AppFooter:S}};const E=(0,p.Z)(_,[["render",s],["__scopeId","data-v-781d829a"]]);var D=E}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,n),a.exports}n.m=t,function(){var t="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",i="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=function(t){t&&t.d<1&&(t.d=1,t.forEach((function(t){t.r--})),t.forEach((function(t){t.r--?t.r++:t()})))},a=function(n){return n.map((function(n){if(null!==n&&"object"===typeof n){if(n[t])return n;if(n.then){var a=[];a.d=0,n.then((function(t){s[e]=t,r(a)}),(function(t){s[i]=t,r(a)}));var s={};return s[t]=function(t){t(a)},s}}var o={};return o[t]=function(){},o[e]=n,o}))};n.a=function(n,s,o){var l;o&&((l=[]).d=-1);var c,u,d,p=new Set,h=n.exports,f=new Promise((function(t,e){d=e,u=t}));f[e]=h,f[t]=function(t){l&&t(l),p.forEach(t),f["catch"]((function(){}))},n.exports=f,s((function(n){var r;c=a(n);var s=function(){return c.map((function(t){if(t[i])throw t[i];return t[e]}))},o=new Promise((function(e){r=function(){e(s)},r.r=0;var n=function(t){t!==l&&!p.has(t)&&(p.add(t),t&&!t.d&&(r.r++,t.push(r)))};c.map((function(e){e[t](n)}))}));return r.r?o:s()}),(function(t){t?d(f[i]=t):u(h),r(l)})),l&&l.d<0&&(l.d=0)}}(),function(){var t=[];n.O=function(e,i,r,a){if(!i){var s=1/0;for(u=0;u<t.length;u++){i=t[u][0],r=t[u][1],a=t[u][2];for(var o=!0,l=0;l<i.length;l++)(!1&a||s>=a)&&Object.keys(n.O).every((function(t){return n.O[t](i[l])}))?i.splice(l--,1):(o=!1,a<s&&(s=a));if(o){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[i,r,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var r,a,s=i[0],o=i[1],l=i[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(l)var u=l(n)}for(e&&e(i);c<s.length;c++)a=s[c],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(u)},i=self["webpackChunkappui_pwa"]=self["webpackChunkappui_pwa"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(866)}));i=n.O(i)})();
//# sourceMappingURL=app.5a5fa49c.js.map